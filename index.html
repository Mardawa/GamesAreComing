<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Socket.io</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect('http://localhost:8080');
      socket.on('message', message => {
        $('#log').append(message + '</br>');
      });
    </script>
  </head>

  <body>
    <h1>Communication avec socket.io !</h1>

    <p id="log"></p>
    <input type="button" value="Login" id="login" />
    <br /><br />

    <form>
      <input type="text" name="message" value="" id="message" /><br />
      <input type="submit" value="Submit" id="sendMessage" />
    </form>
  </body>

  <script>
    $('#login').click(() => {
      var userName = prompt('Please enter your name', '');
      socket.emit('login', userName);
    });
    $('#sendMessage').click(e => {
      e.preventDefault();
      socket.emit('message', $('#message').val());
    });
  </script>
</html>
